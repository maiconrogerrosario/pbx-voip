;-------------------------------- PrivateDial ----------------------------------
; Filename: pjsip.conf
; Asterisk PJSIP configuration file.
;-------------------------------- global ---------------------------------------

[global]
type=global
user_agent=Platform PBX

; ==========================
; TRANSPORTS
; ==========================
[transport-ws]
type=transport
protocol=ws
bind=0.0.0.0:8088        ; porta WebSocket para WebRTC
external_media_address=56.125.214.225
external_signaling_address=56.125.214.225

[transport-udp]
type=transport
protocol=udp
bind=0.0.0.0:5060        ; porta UDP SIP
external_media_address=56.125.214.225
external_signaling_address=56.125.214.225

; ==========================
; ECHO Test
; ==========================
[echo]
type=endpoint
context=default
disallow=all
allow=ulaw
aors=echo_aor

[echo_aor]
type=aor
max_contacts=1

; ==========================
; TEST Outbound
; ==========================
[test_outbound]
type=endpoint
context=default
disallow=all
allow=ulaw
aors=test_outbound_aor

[test_outbound_aor]
type=aor
max_contacts=1

; ==========================
; TEST Inbound
; ==========================
[test_inbound]
type=endpoint
context=default
disallow=all
allow=ulaw
aors=test_inbound_aor

[test_inbound_aor]
type=aor
max_contacts=1

; ==========================
; AUTHENTICATION
; ==========================
; Ramais 5000–5003
[auth5000]
type=auth
auth_type=userpass
username=5000
password=Senha5000

[auth5001]
type=auth
auth_type=userpass
username=5001
password=Senha5001

[auth5002]
type=auth
auth_type=userpass
username=5002
password=Senha5002

[auth5003]
type=auth
auth_type=userpass
username=5003
password=Senha5003

; Ramais 6000–6001
[auth6000]
type=auth
auth_type=userpass
username=6000
password=Senha6000

[auth6001]
type=auth
auth_type=userpass
username=6001
password=Senha6001

; Ramais 7000–7001
[auth7000]
type=auth
auth_type=userpass
username=7000
password=Senha7000

[auth7001]
type=auth
auth_type=userpass
username=7001
password=Senha7001

; Ramais 1000–1010
[auth1000]
type=auth
auth_type=userpass
username=1000
password=Senha1000

[auth1001]
type=auth
auth_type=userpass
username=1001
password=Senha1001

[auth1002]
type=auth
auth_type=userpass
username=1002
password=Senha1002

[auth1003]
type=auth
auth_type=userpass
username=1003
password=Senha1003

[auth1004]
type=auth
auth_type=userpass
username=1004
password=Senha1004

[auth1005]
type=auth
auth_type=userpass
username=1005
password=Senha1005

[auth1006]
type=auth
auth_type=userpass
username=1006
password=Senha1006

[auth1007]
type=auth
auth_type=userpass
username=1007
password=Senha1007

[auth1008]
type=auth
auth_type=userpass
username=1008
password=Senha1008

[auth1009]
type=auth
auth_type=userpass
username=1009
password=Senha1009

[auth1010]
type=auth
auth_type=userpass
username=1010
password=Senha1010

; Ramais 9000–9001
[auth9000]
type=auth
auth_type=userpass
username=9000
password=Senha9000

[auth9001]
type=auth
auth_type=userpass
username=9001
password=Senha9001

; ==========================
; AOR (Address of Record)
; ==========================
; 5000–5003
[5000]
type=aor
max_contacts=1

[5001]
type=aor
max_contacts=1

[5002]
type=aor
max_contacts=1

[5003]
type=aor
max_contacts=1

; 6000–6001
[6000]
type=aor
max_contacts=1

[6001]
type=aor
max_contacts=1

; 7000–7001
[7000]
type=aor
max_contacts=1

[7001]
type=aor
max_contacts=1

; 1000–1010
[1000]
type=aor
max_contacts=1
[1001]
type=aor
max_contacts=1
[1002]
type=aor
max_contacts=1
[1003]
type=aor
max_contacts=1
[1004]
type=aor
max_contacts=1
[1005]
type=aor
max_contacts=1
[1006]
type=aor
max_contacts=1
[1007]
type=aor
max_contacts=1
[1008]
type=aor
max_contacts=1
[1009]
type=aor
max_contacts=1
[1010]
type=aor
max_contacts=1

; 9000–9001
[9000]
type=aor
max_contacts=1
[9001]
type=aor
max_contacts=1

; ==========================
; ENDPOINTS
; ==========================
; 5000–5003 (WebRTC)
[5000]
type=endpoint
aors=5000
auth=auth5000
context=from-pjsip
disallow=all
allow=ulaw,alaw,opus
webrtc=yes
direct_media=no
transport=transport-ws
rewrite_contact=yes

[5001]
type=endpoint
aors=5001
auth=auth5001
context=from-pjsip
disallow=all
allow=ulaw,alaw,opus
webrtc=yes
direct_media=no
transport=transport-ws
rewrite_contact=yes

[5002]
type=endpoint
aors=5002
auth=auth5002
context=from-pjsip
disallow=all
allow=ulaw,alaw,opus
webrtc=yes
direct_media=no
transport=transport-ws
rewrite_contact=yes

[5003]
type=endpoint
aors=5003
auth=auth5003
context=from-pjsip
disallow=all
allow=ulaw,alaw,opus
webrtc=yes
direct_media=no
transport=transport-ws
rewrite_contact=yes

; 6000–6001 (UDP)
[6000]
type=endpoint
aors=6000
auth=auth6000
context=from-pjsip
disallow=all
allow=ulaw,alaw
webrtc=no
direct_media=no
transport=transport-udp

[6001]
type=endpoint
aors=6001
auth=auth6001
context=from-pjsip
disallow=all
allow=ulaw,alaw
webrtc=no
direct_media=no
transport=transport-udp

; 7000–7001
[7000]
type=endpoint
aors=7000
auth=auth7000
context=from-pjsip
disallow=all
allow=ulaw,alaw,opus
webrtc=yes
direct_media=no
transport=transport-ws
rewrite_contact=yes

[7001]
type=endpoint
aors=7001
auth=auth7001
context=from-pjsip
disallow=all
allow=ulaw,alaw
webrtc=no
direct_media=no
transport=transport-udp
rewrite_contact=yes

; 1000–1010
[1000]
type=endpoint
aors=1000
auth=auth1000
context=from-pjsip
disallow=all
allow=ulaw,alaw
webrtc=no
direct_media=no
transport=transport-udp

[1001]
type=endpoint
aors=1001
auth=auth1001
context=from-pjsip
disallow=all
allow=ulaw,alaw
webrtc=no
direct_media=no
transport=transport-udp

[1002]
type=endpoint
aors=1002
auth=auth1002
context=from-pjsip
disallow=all
allow=ulaw,alaw
webrtc=no
direct_media=no
transport=transport-udp

[1003]
type=endpoint
aors=1003
auth=auth1003
context=from-pjsip
disallow=all
allow=ulaw,alaw
webrtc=no
direct_media=no
transport=transport-udp

[1004]
type=endpoint
aors=1004
auth=auth1004
context=from-pjsip
disallow=all
allow=ulaw,alaw
webrtc=no
direct_media=no
transport=transport-udp

[1005]
type=endpoint
aors=1005
auth=auth1005
context=from-pjsip
disallow=all
allow=ulaw,alaw
webrtc=no
direct_media=no


[9000]
type=endpoint
aors=9000
auth=auth9000
context=from-pjsip
disallow=all
allow=ulaw,alaw
webrtc=no
direct_media=no
transport=transport-udp
rewrite_contact=yes

[9001]
type=endpoint
aors=9001
auth=auth9001
context=from-pjsip
disallow=all
allow=ulaw,alaw
webrtc=no
direct_media=no
transport=transport-udp
rewrite_contact=yes




